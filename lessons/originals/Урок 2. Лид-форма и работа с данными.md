В прошлом уроке мы научились создавать свой лендинг с нуля без помощи программистов. Теперь давайте научим его сохранять лиды с формы для дальнейшего использования этих данных.

Для начала давайте разберемся с полями лида.

На форме выводятся:
- имя - строковое поле, здесь пользователь может указать просто имя, фио или даже никнейм
- телефон - контакт пользователя, поле тоже строковое
- чекбокс согласия - она нужна, чтобы пользователь не отправил форму без подтверждения, поэтому значение этого поля хранить не требуется

Основаная цель нашей формы - сохранять для нас уникальные контакты пользователей. Поле "имя" для этого не совсем подходит - в него можно написать произвольный текст и каждый раз будет создаваться новый лид, не смотря на значение в поле "телефон".  А вот номер телефона - отличное значение для уникальности наших лидов.

Также необходимо предусмотреть, чтобы значения в отправляемой форме были не пустыми.

Сформулируем модель данных лида:
- идентификатор - уникальная строка
- имя - строка, не пустое
- телефон - строка, не пустое, уникальное
- дата - дата создания записи (для будущей аналитики)

После того, как мы сформировали модель данных, мы можем попросить агента произвести все необходимые изменения для сохранения наших лидов в базе данных:
```
Ты senior backend-разработчик.

Нужно реализовать сохранение данных с формы лида блока CTA лендинга в базу данных.

Задачи:
- обновить docker-compose: добавить контейнер db с Postgres, добавить volume для хранения данных, настроить переменную окружения DB_URL для app, открыть порт для подключения с локальной сети
- подключить Prisma: добавить зависимости, инициализировать Prisma, настроить подключение к Postgres через DB_URL
- описать модель Lead: id (uuid, primary key, по умолчанию уникальный uuid), name (строка, обязательное), phone (строка, обязательное, уникальное), createdAt (дата создания по умолчанию)
- добавить маршрут POST /api/leads: принимает name и phone, валидирует обязательные поля, сохраняет запись через Prisma, возвращает ошибку при дубликате contact
- обновить frontend: форма отправляет данные на /api/leads, отображает состояние (отправка / успех / ошибка), поле телефон форматируется по правилу - начинается со знака "+" и далее только цифры, форма не отправляться при отжатом чекбоксе согласия
- добавь коммит в git
- перезапусти окружение docker compose
```

Проверим работоспособность формы:
- перейдем на форму лида, заполним поля и отправим - должно вывестись сообщение об успешной отправке
- попробуем еще раз отправить лида с другим именем, но с тем же номером телефона - должно вывестись сообщение об ошибке

Можно установить любой клиент базы данных Postgres и посмотреть на наших лидов в таблице Lead:

<фото таблицы>

Чтобы не создавать руками лидов с формы в рамках тестирования, можем попросить агента создать нам команду для генерации фейковых лидов в базе данных:
```
Создай команду на генерацию seed 5 рандомных записей в таблице Lead.
Команда должна учитывать уникальность поля phone, соблюдать форматирование значений ("+" и далее цифры).
Добавь информацию в README.md как запустить команду через docker compose.
Проверь, чтобы команда из README.md соответствовала именованию команды в package.json.
Добавь коммит в git.
Перезапусти окружение docker compose.
```

Проверяем команду из README.md - в таблице Lead должно появиться 5 новых записей.

<проверка знаний>